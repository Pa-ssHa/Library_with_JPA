<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Поиск книг</title>
</head>
<body>

<!--<form th:method="POST" th:action="@{/book/search}" th:object="${title}">-->
<!--    <div>-->
<!--        <label for="title">Введите название:</label>-->
<!--        <input type="text" name="title" th:field="*{title}" id="title"/>-->
<!--        <br/>-->
<!--        <br/>-->
<!--        <input type="submit" value="Поиск"/>-->
<!--    </div>-->
<!--</form>-->

<form th:method="POST" th:action="@{/book/search}">
    <div>
        <label for="title">Введите название:</label>
        <input type="text" name="title" id="title" th:value="${title}"/>
        <br/>
        <br/>
        <input type="submit" value="Поиск"/>
    </div>
</form>


<!--<div th:if = ${"foundBooks"}>-->
<!--    <span>Эта книга свободна</span>-->
<!--    <form th:method="POST" th:action="@{/book/search}">-->
<!--        <label for="book">книги</label>-->
<!--        <select th:object="${book}" th:field="*{id}" id="book">-->
<!--            <option th:each="book : ${foundBooks}" th:value="${book.getId()}" th:text="${book.getTitle()}">-->
<!--            </option>-->
<!--        </select>-->
<!--&lt;!&ndash;        <input type="submit" value="Назначить книгу">&ndash;&gt;-->
<!--    </form>-->
<!--</div>-->


<!--<div th:if = ${"foundBooksNull"}>-->
<!--    <span>книга не найдена</span>-->
<!--    <form th:method="POST" th:action="@{/book/search}">-->
<!--        <label for="book">книги не найдены</label>-->
<!--    </form>-->
<!--</div>-->


<div th:if="${foundBooks}">
    <span>Найденные книги:</span>
    <div th:each="b : ${foundBooks}">
        <a th:href="@{/book/{id}(id=${b.getId()})}"
           th:text="${b.title + ',  ' + b.author + ',  ' + b.year}">Book</a>
    </div>
</div>

<div th:if="${foundBooksNull}">
    <span>Книга не найдена</span>
</div>

<br/>
<hr/>
<a th:href="@{/book/all}">Вернуться в меню</a>

</body>
</html>